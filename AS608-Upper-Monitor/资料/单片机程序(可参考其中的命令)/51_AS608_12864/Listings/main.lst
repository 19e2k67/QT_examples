C51 COMPILER V9.57.0.0   MAIN                                                              10/20/2023 15:23:45 PAGE 1   


C51 COMPILER V9.57.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: F:\keil5\keil\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE INCDIR(.\App;.\Public) DEBUG OBJECTEX
                    -TEND PRINT(.\Listings\main.lst) OBJECT(.\Objects\main.obj)

line level    source

   1          #include <buzz.h>
   2          #include <key.h>
   3          #include <uart.h>
   4          #include <FPM10A.h>
   5          #include <lcd12864.h>
   6          
   7          void main()
   8          {
   9   1              lcd12864_init();                        //初始化液晶
  10   1          delay_10us(1);
  11   1          lcd12864_clear();
  12   1              Uart_Init();                    //初始化串口
  13   1              Key_Init();                             //初始化按键
  14   1              delay_ms(500);          //延时500MS，等待指纹模块复位
  15   1              Device_Check();                 //校对指纹模块是否接入正确，液晶做出相应的提示
  16   1              delay_ms(500);                  //对接成功界面停留一定时间
  17   1          lcd12864_clear();
  18   1          lcd12864_show_string(2,0,"指纹测试");
  19   1          lcd12864_show_string(1,1,"搜索指纹");
  20   1              lcd12864_show_string(1,2,"添加指纹");    //添加和删除指纹
  21   1              lcd12864_show_string(1,3,"清空指纹");
  22   1         
  23   1              while (1) {
  24   2                      /**************进入主功能界面****************/
  25   2      
  26   2                      if (local_date == 0) {
  27   3                  lcd12864_show_char(0,1,'*');
  28   3                  lcd12864_show_char(0,2,' ');
  29   3                  lcd12864_show_char(0,3,' ');
  30   3                      }
  31   2                      else if (local_date == 1) {
  32   3                  lcd12864_show_char(0,1,' ');
  33   3                  lcd12864_show_char(0,2,'*');
  34   3                  lcd12864_show_char(0,3,' ');
  35   3                      }
  36   2                      else if (local_date == 2) {
  37   3                  lcd12864_show_char(0,1,' ');
  38   3                  lcd12864_show_char(0,2,' ');
  39   3                  lcd12864_show_char(0,3,'*');
  40   3                  
  41   3                      }
  42   2                      //确认键
  43   2                      if (KEY_OK == 0) {
  44   3                              while (KEY_OK == 0); //等待松开按键
  45   3                              switch (local_date) {
  46   4                                      case 0:  //搜索指纹
  47   4                                              FPM10A_Find_Fingerprint();
  48   4                                              break;
  49   4      
  50   4                                      case 1:  //添加指纹
  51   4                                              FPM10A_Add_Fingerprint();
  52   4                                              break;
  53   4      
  54   4                                      case 2: //清空指纹
C51 COMPILER V9.57.0.0   MAIN                                                              10/20/2023 15:23:45 PAGE 2   

  55   4                                              FPM10A_Delete_All_Fingerprint();
  56   4                                              break;
  57   4                              }
  58   3                      }
  59   2                      if (KEY_UP == 0) {
  60   3                              while (KEY_UP == 0); //等待松开按键
  61   3                              if (local_date >= -1) {
  62   4                                      local_date--;
  63   4                                      if (local_date == -1)
  64   4                                              local_date = 2;
  65   4                              }
  66   3                      }
  67   2                      //切换键
  68   2                      if (KEY_DOWN == 0) {
  69   3                              while (KEY_DOWN == 0); //等待松开按键
  70   3                              if (local_date <= 2) {
  71   4                                      local_date++;
  72   4                                      if (local_date == 3)
  73   4                                              local_date = 0;
  74   4                              }
  75   3                      }
  76   2                      delay_ms(100); //延时判断100MS检测一次
  77   2              }
  78   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    257    ----
   CONSTANT SIZE    =     36    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
